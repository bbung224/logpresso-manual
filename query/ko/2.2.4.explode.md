### 2.2.4. explode 쿼리 커맨드

기능

araqne-logdb 2.0.0 버전부터 지원

지정된 배열의 각 원소마다 대응되는 행을 생성합니다. 일반적으로 배열(가로)을 열(세로) 방향으로 축 변환하려는 경우에 사용합니다. 지정된 필드가 존재하지 않거나, 배열이 아니거나, null인 경우 입력 행을 보존합니다.

문법

~~~
	explode 필드이름
~~~

배열을 포함하는 필드의 이름을 지정합니다.

사용 예

1) IP 통계 추출

~~~
     json “[{'line': '10.0.0.1 10.0.0.2'},{'line':'10.0.0.2 10.0.0.3'}]“
     | eval ip = split(line, ” “)
     | explode ip
     | stats count by ip
 ~~~

* eval 명령어로 split 함수를 사용하면 1행은 ["10.0.0.1", "10.0.0.2"], 2행은 ["10.0.0.2", "10.0.0.3"] 배열을 ip 필드에 할당합니다.
* explode 함수는 ip 필드의 배열을 기준으로 아래와 같이 4개의 행을 생성합니다.
 - ip=10.0.0.1, line=10.0.0.1 10.0.0.2
 - ip=10.0.0.2, line=10.0.0.1 10.0.0.2
 - ip=10.0.0.2, line=10.0.0.2 10.0.0.3
 - ip=10.0.0.3, line=10.0.0.2 10.0.0.3
* 최종적으로 stats 명령어는 ip 필드를 기준으로 아래와 같은 통계를 출력합니다.
 - ip=10.0.0.1, count=1
 - ip=10.0.0.2, count=2
 - ip=10.0.0.3, count=1

