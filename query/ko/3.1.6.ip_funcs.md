### 3.1.6. ip 함수

3.1.6.1. ip 함수

문자열 표현식을 IP로 변환합니다. 표현식이 null인 경우 null을 반환합니다. 유효하지 않은 포맷으로 IP 변환에 실패하는 경우 null을 반환합니다. 문자열 이외의 타입인 경우 문자열로 자동 변환 후 IP 변환을 시도합니다.

문법

~~~~
	ip(표현식)
~~~~

사용 예

~~~~
	ip("1.2.3.4") => /1.2.3.4
	ip("::1") => /0:0:0:0:0:0:0:1
	ip("invalid") => null
	ip(null) => null
~~~~

3.1.6.2. ip2long 함수

araqne-logdb 1.8.4 버전부터 지원

임의의 IPv4 주소 문자열을 숫자(long) 타입으로 변환합니다.

문법

~~~~
	ip2long(표현식)
~~~~


사용 예

~~~~
	ip2long("192.168.0.1") => 3232235521
	ip2long("127.0.0.1") => 2130706433
~~~~

3.1.6.3. long2ip 함수

araqne-logdb 1.8.4 버전부터 지원

임의의 정수를 IPv4 주소 문자열로 변환합니다.

문법

~~~~
	long2ip(표현식)
~~~~

사용 예

~~~~
	long2ip(3232235521) => "192.168.0.1"
	long2ip(2130706433) => "127.0.0.1"
~~~~

3.1.6.4. network 함수

주어진 IP와 CIDR로 네트워크 주소 값을 반환합니다.  IPv4와 IPv6 양쪽 모두 사용 가능합니다.

문법

~~~~
	network(표현식1, 표현식2)
~~~~

 * 표현식1: 대상 IP 문자열 및 IP 타입
 * 표현식2: CIDR 정수 값
     * IPv4: 0~32
     * IPv6: 0~128

사용 예

~~~~
	network(null, 32) => null
	network("255.255.255.255", 32) => 255.255.255.255
	network("255.255.255.255", 24) => 255.255.255.0
	network("21DA:00D3:0000:2F3B:02AA:00FF:FE28:9C5A”, 96) => 21da:d3:0:2f3b:2aa:ff:0:0
	network("21DA:00D3:0000:2F3B:02AA:00FF:FE28:9C5A”, 0)  => 0:0:0:0:0:0:0:0
~~~~

