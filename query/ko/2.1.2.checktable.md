### 2.1.2. checktable 쿼리 커맨드

지정한 날짜 범위의 테이블 데이터 무결성을 검사합니다. 대상 테이블이 다이제스트 알고리즘이 설정된 암호화 프로파일을 이용하는 경우에만 무결성 검사가 수행되며, 무결성 검사에 필요한 HMAC 시그니처를 포함하지 않는 테이블은 검사에서 자동으로 제외됩니다. 이 커맨드를 실행하려면 관리자 권한이 필요합니다.

\| 문법 \|

~~~~
	checktable [from=yyyyMMdd] [to=yyyyMMdd] [trace=t] [테이블1, 테이블2, ... ]
~~~~

 * from: 무결성 검사 시작 날짜를 yyyyMMdd 포맷으로 지정합니다.
 * to: 무결성 검사 끝 날짜를 yyyyMMdd 포맷으로 지정합니다.
 * trace: 무결성에 이상이 없는 정상 데이터 블럭 정보도 출력하려는 경우에 t를 지정합니다.
 
테이블 이름은 와일드카드를 지원합니다.
 
검사 결과는 아래의 필드를 포함합니다:

 * table: 테이블 이름
 * day: 날짜 파티션 이름
 * block_id: 블럭 ID
 * last_block_id: 마지막으로 읽은 블럭 ID, 파일 구조 자체가 손상된 경우에만 출력됩니다.
 * signature: 데이터 입력 시 생성된 HMAC 시그니처
 * hash: 무결성 검사를 수행하면서 재계산한 해시 값. 이 해시 값이 기존 시그니처와 다른 경우 변조된 것으로 판정합니다.
 * msg: valid, modified, corrupted 문자열 중 하나의 값을 가집니다. valid는 무결성이 검증됨, modified는 데이터가 변조됨, corrupted는 파일 구조가 손상됨을 의미합니다. 데이터가 변조되거나 손상된 경우에는 해당 데이터 블럭을 읽을 수 없으므로 데이터 조회 쿼리 시 건너뛰게 됩니다.
 
\| 사용 예 \|

1) 모든 테이블의 2014년 9월 데이터 무결성 검사
~~~
	checktable from=20140901 to=20140930 *
~~~

2) syslog_ 로 시작하는 모든 테이블 데이터 무결성 검사
~~~
	checktable syslog_*
~~~
